<ion-header [translucent]="true">
  <ion-toolbar>    
      <div class="top-header">
        <div style="align-items: center; display: flex; gap: 15px;">
          <ion-icon (click)="toggleMenu()" name="menu" style="color: rgb(0, 0, 0); font-size: 25px;"></ion-icon>
          <img src="assets/images/tatalogo.png" alt="">
        </div>
        <div>
          <img src="assets/images/ibmdlogo.png" alt="">
        </div>    </div>
      <div class='bottom-header'>
        <ion-icon (click)="goBack()" name="chevron-back" style="color: white; padding-left: 5px; font-size: 20px;"></ion-icon>
        <div style="color: white; font-weight: 500; font-size: 18px; font-family: Montserrat;">My Feedbacks</div>
        <div>      
        </div>
      </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <div class="flex-container">

    <div class="input-container">
      <ion-icon name="search" style="font-size: 20px;"></ion-icon>
      <ion-input  [(ngModel)]="tagName"  placeholder="Search by tag name"></ion-input>
      <ion-icon *ngIf="tagName" name="close-circle" style="font-size: 20px;"></ion-icon>
    </div>



    <div class="inputContainer">
      <div style="display: inline-flex">Start Date</div>
      <div class="input" style="display: flex; flex-direction: row;"><ion-input [(ngModel)]="selectedStartDateTime" type="text" readonly></ion-input>
        <div style="background-color: #fff; align-self: center; padding-right: 10px;" (click)="openDatetimeModal('startDate')">
          <ion-icon style="font-size: 30px;" name="calendar-outline"></ion-icon>
        </div>
      </div>
    </div>

    <div class="inputContainer" [ngClass]="{'inactive': !selectedStartDateTime}">
      <div style="display: inline-flex">End Date</div>
      <div class="input" style="display: flex; flex-direction: row;"><ion-input [(ngModel)]="selectedEndDateTime" type="text" readonly></ion-input>
        <div style="background-color: #fff; align-self: center; padding-right: 10px;" (click)="openDatetimeModal('endDate')">
          <ion-icon style="font-size: 30px;" name="calendar-outline"></ion-icon>
        </div>
      </div>
    </div>


    <div  style="display: inline-flex; align-items: center; align-self: center; width: 100%; gap: 10px;">
      <div (click)="reset()" class="reset">
        RESET
      </div>
      <div (click)="search()" class="search">
        SEARCH
      </div>
    </div>



    <div class="product-price" *ngFor="let item of feedbackListData">

      <div class="row">
        <div>Created Date:</div>
        <div class="text-right">{{item.Date}}</div>
      </div>     
      <div class="row">
        <div>Tag Name:</div>
        <div class="text-right">{{item.KeyId}}</div>
      </div>      
      <div class="row">
        <div>Message:</div>
        <div class="text-right">{{item.Feedback}}</div>
      </div>
    </div>

    <div class="centered-container">
      <span>Powered by &copy; MJunction Services LTD.</span>
    </div>
    
  </div>



</ion-content>
   <ion-modal [isOpen]="isStartDateModalOpen">
    <ng-template>
      <ion-content>

        <div class="datetime-container">
          <ion-datetime
            
            presentation="date"
            (ionChange)="onDateTimeChange($event,'startDate')"
          ></ion-datetime>
        </div>
  

        <ion-footer>
          <ion-button expand="full" (click)="closeDatetimeModal()">Done</ion-button>
          <ion-button expand="full" (click)="closeDatetimeModal()">Cancel</ion-button>
        </ion-footer>
      </ion-content>
    </ng-template>
  </ion-modal>




  <ion-modal [isOpen]="isEndDateModalOpen">
    <ng-template>
      <ion-content>

        <div class="datetime-container">
          <ion-datetime
            
            presentation="date"
            (ionChange)="onDateTimeChange($event,'endDate')"
          ></ion-datetime>
        </div>
  

        <ion-footer>
          <ion-button expand="full" (click)="closeDatetimeModal()">Done</ion-button>
          <ion-button expand="full" (click)="closeDatetimeModal()">Cancel</ion-button>
        </ion-footer>
      </ion-content>
    </ng-template>
  </ion-modal>

<app-footer></app-footer>
